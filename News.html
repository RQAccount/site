<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta name="format-detection" content="telephone=no,email=no" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">
  <meta name="description" content="description of your site">
  <meta name="author" content="author of the site">
  <title>Bigview 新闻</title>
  <link rel="stylesheet" href="source/main.css"/>
  
  
    
        <link rel="stylesheet" href="./style/a.css"/>
    
        <link rel="stylesheet" href="./style/b.css"/>
    
  
</head>
<body class=News >
    <div class="ydoc">
      <header class="ydoc-header">
        <div class="ydoc-header-area">
            
            <a href="http://ued.qunar.com/ymfe/" class="navbar-brand">YMFE</a>
            
            <button class="ydocIcon navbar-toggle">&#xf020;</button>
            <nav class="ydoc-nav">
              <ul class="navbar-left">
                
                    
                    <li class="">
                        
                        <a href="index.html">主页</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="GettingStart.html">开始</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="Docs.html">文档</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="Api.html">Api</a>
                        
                    </li>
                    
                    <li class="active">
                        
                        <a href="News.html">新闻</a>
                        
                    </li>
                    
                
              </ul>
            </nav>
        </div>
    </header>
    
    <!-- <header style="height:20px"></header> -->
    
      <!-- Docs page layout -->
      
      <div class="ydoc-banner-bg">
          <div class="ydoc-banner">
              <div class="ydoc-banner-area">
                  <h1>Bigview</h1>
                  <p>A fast, simple & powerful bigpipe framework</p>
              </div>
          </div>
      

      <div class="ydoc-container">
        
          
          <div class="ydoc-container-content">
              <div class="content-left" role="complementary">
                  <nav class="docs-sidebar hidden-print hidden-xs hidden-sm">
                    <ul class="nav docs-sidenav">
                        
                        
                        <!-- <li  > -->
                        <li >
                            
                            <a href="#Versions">Versions</a>
                            
                        </li>
                        
                        
                        
                        <!-- <li  > -->
                        <li >
                            
                            <a href="#Desgin">Desgin</a>
                            
                        </li>
                        
                        
                        
                        
                        <ul class="nav docs-sidenav-extend"  >
                        
                            <li >
                                <a href="#v1">v1</a>
                            </li>
                        
                        
                        
                        
                        
                            <li >
                                <a href="#v2">v2</a>
                            </li>
                        
                        
                        
                        
                        
                            <li >
                                <a href="#v3">v3</a>
                            </li>
                        
                        
                        
                    </ul>
                  </nav>
              </div>
              <div class="content-right markdown-body" role="main">

                
                <h2 id="Versions">Versions</h2><ul>
<li>v1.3.12<ul>
<li>修正payload问题，支持自定义属性</li>
<li>duck type</li>
<li>修改catchFn阻塞问题</li>
</ul>
</li>
<li>v.1.3.10<ul>
<li>重构mode部分，讲引用移到mode/index.js里，内敛</li>
<li>for sonar</li>
<li>refact bigview write api</li>
<li>移除无用的this.layoutHtml</li>
<li>移除动态布局</li>
<li>将req和res移除到base里</li>
<li>重构biglet赋值比较绕的问题</li>
<li>修复，之前的parallel模式渲染问题，已测试</li>
<li>移除显式的比较true</li>
<li>修复render模式输出</li>
<li>add pipeline mode test</li>
</ul>
</li>
<li>v1.3.9<ul>
<li>[x] 使用bluebird作为global.Promise，避免外部错误</li>
<li>[x] 去掉bigpipe.debug = false;使用环境变量BIGVIEW_DEBUG</li>
<li>[x] bigview &amp;&amp; biglet conosle.log(&quot;BIGVIEW&quot; + err) 增加模块标识，便于日志记录</li>
<li>[x] this.tpl = &#39;tpl/index&#39;;干掉，设为默认值</li>
<li>[x] biglet // custom error function</li>
<li>[x] 子模块的顺序，也可以指定pagelet1.mode = &#39;render&#39;</li>
<li>[x] 修复之前mode遗留问题，以前的render模式，仍然是先输出布局的，这是不对的，已修改</li>
<li>(待处理)this.root = __dirname;有疑问？暂无解决方案，需要思考</li>
<li>(待处理)当没有数据的时候，不显示改模块，目前的做法是 return Promise.reject(); 语义上怪</li>
</ul>
</li>
<li>v1.2.8 (2017年1月11日，i5ting)<ul>
<li>bigview支持错误模块显示，仅限于布局之前</li>
<li>Pagelet里触发其他模块</li>
</ul>
</li>
</ul>
<h2 id="Desgin">Desgin</h2><h3 id="v1">v1</h3><ul>
<li>实现基本功能(pipeline管线模式)</li>
</ul>
<h3 id="v2">v2</h3><ul>
<li>pipeline管线模式</li>
<li>多种布局</li>
<li>实现pagelet嵌套</li>
<li>生命周期回调</li>
</ul>
<h3 id="v3">v3</h3><ul>
<li>增加3种模式mode</li>
<li>考虑加入<a href="https://github.com/hapijs/joi">joi</a>,对pagelet.data进行校验</li>
<li>采用eventemitter收集数据，self.ower.emit()，可以兼顾内嵌pagelet</li>
<li>子流程其实也可以考虑顺序或并行，只是意义多大</li>
</ul>
<p>BigPipe的三种模式：</p>
<ul>
<li>common一次渲染模式：即普通模式，支持搜索引擎，用来支持那些不支持JS的客户端。</li>
<li>并行<ul>
<li>pipeline管线模式：即并行模式，并行请求，并即时渲染。(已实现)</li>
<li>parallel并行模式：并行请求，但在获得所有请求的结果后再渲染。</li>
</ul>
</li>
</ul>
<p>维度</p>
<ul>
<li>依次Promise.reduce</li>
<li>随机Promise.all</li>
<li>写入</li>
<li>不写入（暂存，稍后一起写入）</li>
</ul>
<p>可能性</p>
<ul>
<li>依次写入（性能第3）</li>
<li>依次不写入（性能第4）</li>
<li>随机写入（性能第1）</li>
<li>随机不写入（性能第2）</li>
</ul>
<p>核心流程</p>
<ul>
<li>布局：是否立即写入</li>
<li>pagelets处理：各种bp模式</li>
<li>end：检查缓存，并end结束</li>
</ul>

              </div>
          </div>
          
        
      </div>
     
     </div>
     
      <footer class="footer">
        <div class="copyright">
            &copy; 2016 <a href="http://ued.qunar.com/ymfe/">YMFE</a> Team. Build by <a href="http://ued.qunar.com/ydoc/">ydoc</a>.
        </div>
      </footer>
    </div>

    
       <div class="open-panel"></div>
    
    

    <script src="source/main.js"></script>
    <script src="source/app.js"></script>
    
    <script>
        var lineHeight = 17.4;
        var EXAMPLE_MAX_HEIGHT;
        function fold(){
            // 折叠code
            $('.markdown-body pre').css({"line-height": lineHeight+"px"});
            $('.markdown-body pre').map(function(i,item){
                var $item = $(item);
                var foldnumber = $item.data('foldnumber');
                EXAMPLE_MAX_HEIGHT = lineHeight * (foldnumber || 6);
                if($item.height() >EXAMPLE_MAX_HEIGHT){
                    $item.css({ "padding-bottom":30 });
                    $item.find('code').height(EXAMPLE_MAX_HEIGHT);
                    $item.append('<span class="extend">展开更多……</span>');
                };
            });
           $('.ydoc-example').delegate('.extend','click',function(){
                var $this = $(this);
                $this.removeClass('extend').addClass('fold');
                $this.html('折叠代码');
                $this.prev().height('auto');
                $this.prev().parent().height('auto');
            });
            $('.ydoc-example').delegate('.fold','click',function(){
                var $this = $(this);
                var foldnumber = $this.parent().data('foldnumber');
                EXAMPLE_MAX_HEIGHT = lineHeight * (foldnumber || 6);
                $this.removeClass('fold').addClass('extend');
                $this.parent().height(EXAMPLE_MAX_HEIGHT);  // pre
                $this.prev().height(EXAMPLE_MAX_HEIGHT);    // code
                $this.html("展开更多……");
            });
        }
        $(document).ready(fold);
    </script>
    
    
    <script>
    var DEFAULT_SHOW_PARAMS = 5;
    $(document).ready(function() {
        // 参数默认显示 5个
        $(".docs-table tbody").each(function(){
           var paramsLength = $(this).find('tr').length,
               paramsArray = $(this).find('tr'),
               curTbody = $(this).parents('.docs-table');

           if(paramsLength > DEFAULT_SHOW_PARAMS){
               curTbody.append('<span class="extend-params">展开更多参数……</span>');
               paramsArray.each(function(index,item){
                   if(index >= DEFAULT_SHOW_PARAMS ){
                       $(this).removeClass('hide-params').addClass('hide-params');
                   }
               });
           }
        });
        $(".docs-table").delegate('.extend-params', 'click',function(){
            $(this).parents('.docs-table').find('.hide-params').addClass('show-params');
            $(this).removeClass('extend-params').addClass('fold-params');
            $(this).html('折叠参数');
        });
        $('.docs-table').delegate('.fold-params','click',function(){
            $(this).removeClass('fold-params').addClass('extend-params');
             $(this).parents('.docs-table').find('.show-params').removeClass('show-params');
            $(this).html("展开更多参数……");
        });
    });
    </script>
    

    
    <script>
        $(document).ready(function(){
            var winWidth = $(window).width(),
                $navExtend = $('.docs-sidenav-extend'),
                $contentLeft = $('.content-left');

            changeHide();
            $(window).on('resize',function(){
                winWidth = $(window).width();
                changeHide();
            })
            function changeHide(){
                if(winWidth>767){
                    var activeInit = $contentLeft.find('.active');
                    $navExtend.hide();
                    $(window).on('scroll',function(){
                        var activeChange = $contentLeft.find('.active');
                        if(activeChange[0] && activeInit !== activeChange){
                            activeInit = activeChange;
                            $navExtend.hide();
                            if(activeChange.parent()[0].tagName === 'UL'){
                                if(activeChange.next()[0] && activeChange.parent()[0].className === 'nav docs-sidenav' && activeChange.next()[0].tagName === 'UL'){
                                    activeChange.next().show();
                                }else if (activeChange.parent()[0].className === 'nav docs-sidenav-extend') {
                                    activeChange.parent().show();
                                }
                            }
                        }
                    })
                }
            }
        })
    </script>
    

    
    
      
      <script type="text/javascript" src="./scripts/a.js"></script>
      
    

</body>
</html>
